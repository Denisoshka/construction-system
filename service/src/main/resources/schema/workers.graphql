scalar Date
@specifiedBy(url:"https://tools.ietf.org/html/rfc3339")
extend schema @link(url: "https://specs.apollo.dev/federation/v2.3",
    import: ["@key"])

type Employee @key(fields: "id"){
    id: ID!
    systemId: String!
    name: String!
    surname: String!
    patronymic : String
    employmentDate : Date!
    post: String
    position: String
}

type EngineerPosition @key(fields: "id"){
    id: Int!
    name : String!
}

type WorkerPosition @key(fields: "id"){
    id: Int!
    name : String!
}

input Pagination {
    page: Int!
    pageSize: Int!
}

input EmployeeInput {
    systemId: String!
    name: String!
    surname: String!
    patronymic : String
    post: String
    positionId: Int
}

input WorkerPositionInput {
    name : String!
}

input EngineerPositionInput {
    name : String!
}

type Query {
    employee(id: ID!) : Employee!
    employees(pagination: Pagination) : [Employee!]
    engineers(pagination: Pagination) :[String!]
    workers(pagination: Pagination) : [String!]
    engineerPositions(pagination: Pagination) : [EngineerPosition!]
    workersPositions(pagination: Pagination) : [WorkerPosition!]
}

type Mutation {
    createEmployee(input: EmployeeInput!): Employee!
    updateEmployee(id: ID!, input: EmployeeInput!): Employee!
    deleteEmployee(id: ID!) : Boolean!

    createEngineerPosition(input : EngineerPositionInput!) :EngineerPosition!
    updateEngineerPosition(id :Int!,input: EngineerPositionInput!): EngineerPosition!
    deleteEngineerPosition(id :Int!) : Boolean!

    createWorkerPosition(input: WorkerPositionInput!) :WorkerPosition!
    updateWorkerPosition(id :Int!,input: WorkerPositionInput!): EngineerPosition!
    deleteWorkerPosition(id :Int!): Boolean!
}
